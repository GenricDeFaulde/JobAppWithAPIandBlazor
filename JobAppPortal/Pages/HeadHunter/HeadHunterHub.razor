@page "/HeadHunter"
@inject NavigationManager NavManager
@inject HttpClient Http



<AuthorizeView>
    <Authorized>
        <GenericList Context="Companies" Elements="headHunters">
            <EmptyTemplate>
                <text>Nothing here</text>
            </EmptyTemplate>
            <WithElementsTemplate>

            </WithElementsTemplate>
        </GenericList>
    </Authorized>
    <NotAuthorized>
        <h1>Hello, world!</h1>
        Please <a href="login">Log In</a> to use this service.
    </NotAuthorized>
</AuthorizeView>



@code {
    public List<HeadHunter> headHunters;

    private string errorMessage = null;

    protected override async Task OnInitializedAsync()
    {
        try
        {
            headHunters = await Http.GetFromJsonAsync<List<HeadHunter>>("https://localhost:44372/Api/HeadHunters/GetAll");
        }
        catch (Exception exception)
        {
            errorMessage = exception.ToString();
        }

    }

    public class HeadHunter
    {
        public int Id { get; set; }

    }
}