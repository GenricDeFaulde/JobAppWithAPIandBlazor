@using System.Globalization

@model JobApp.Models.JobModel.Job

@{
  ViewData["Title"] = "Index";
}


<div class="container-fluid">
  <div class="row">
    <div class="col-lg-6 mb-0">
      <h1 class="mb-0">@Model.Title</h1>
      <p class="mb-0">Alle Angebote</p>
    </div>
    <div class="col-lg-6 mt-auto ">
      <p class="mt-auto mb-0 text-right">
        @* <a class="text-dark mt-auto" asp-action="Create">Create New</a> *@
      </p>
    </div>
  </div>
  <table class="table table-striped table-hover table-sm table-dark" cellspacing="25">
    <thead class="table-bordered ">
      <tr>
        <th>
          Arbeitgeber
        </th>
        <th>
          Vermittler
        </th>
        <th>
          Portal
        </th>
        <th>
          Bewerbung
        </th>
        <th>
          Gehaltsangebot
        </th>
        <th>
          Status
        </th>
        <th>
          Seit
        </th>
        <th></th>
        <th>
          Link
        </th>
      </tr>
    </thead>
    <tbody>
      @foreach (var item in Model.Offers)
      {
        var companyName = (item.CompanyBranch?.Company.CompanyName.ToString()) ?? "";
        var jobName = item.Job?.Title.ToString() ?? "Keine Angabe";
        var headHunterFName = (item.HeadHunter?.FirstName.ToString()) ?? "";
        var headHunterLName = (item.HeadHunter?.LastName.ToString()) ?? "";
        var headHunterName = headHunterFName + " " + headHunterLName;
        var exchangeName = item.JobExchange?.Name.ToString() ?? "";
        var applicationnName = item.Application?.Title.ToString() ?? "";
        var stillAvialable = item.IsActive ? "fa fa-square text-success" : "fa fa-square text-danger";



        <tr>
          <td width="10%">
            @companyName
          </td>
          <td width="10%">
            @headHunterName
          </td>
          <td width="10%">
            @exchangeName
          </td>
          <td width="10%">
            @applicationnName
          </td>
          <td width="10%">
            @Html.DisplayFor(modelItem => item.SalaryOffered)€
          </td>
          <td width="5%" class="text-center">
            <i class="@stillAvialable" aria-hidden="true"></i>
          </td>
          <td width="5%">
            @item.Releasedate.ToString("dd.MM.yyyy ")
          </td>
          <td width="5%" class="text-center">
            <a asp-action="Edit" asp-route-id="@item.Id" class="text-muted fa fa-edit"></a> |
            <a asp-action="Delete" asp-route-id="@item.Id" class="text-muted fa fa-trash"></a>
          </td>
          <td width="5%">
            <a href="#">
              <i class="fa fa-hand-o-right text-muted float-right" aria-hidden="true"></i>
            </a>
          </td>
        </tr>
      }
    </tbody>
  </table>
</div>




@*
  <h1>Angebote</h1>

  <p>
  <a asp-action="Create">Create New</a>
  </p>
  <table class="table">
  <thead>
  <tr>
  <th>
  Arbeitgeber
  </th>
  <th>
  Stelle
  </th>
  <th>
  Vermittler
  </th>
  <th>
  Portal
  </th>
  <th>
  Bewerbung
  </th>
  <th>
  Gehaltsangebot
  </th>
  <th>
  Status
  </th>
  <th>
  Veröffentlichungsdatum
  </th>
  <th>
  Link
  </th>
  <th></th>
  </tr>
  </thead>
  <tbody>
  @foreach (var item in Model.Offers)
  {
  var companyName = (item.CompanyBranch?.Company.CompanyName.ToString()) ?? "- -";
  var jobName = item.Job?.Title.ToString() ?? "Keine Angabe";
  var headHunterFName = (item.HeadHunter?.FirstName.ToString()) ?? "-";
  var headHunterLName = (item.HeadHunter?.LastName.ToString()) ?? "-";
  var headHunterName = headHunterFName + " " + headHunterLName;
  var exchangeName = item.JobExchange?.Name.ToString() ?? "Keine Angabe";
  var applicationnName = item.Application?.Title.ToString() ?? "Keine bisher";
  var stillAvialable = item.IsActive ? "Offen" : "Beendet";



  <tr>
  <td>
  @companyName
  </td>
  <td>
  @jobName
  </td>
  <td>
  @headHunterName
  </td>
  <td>
  @exchangeName
  </td>
  <td>
  @applicationnName
  </td>
  <td>
  @Html.DisplayFor(modelItem => item.SalaryOffered)€
  </td>
  <td>
  @stillAvialable
  </td>
  <td>
  @item.Releasedate.ToString("dd.MM.yyyy ")
  </td>
  <td>
  <a href="#">
  @Html.DisplayFor(modelItem => item.JobOfferUrl)
  </a>
  </td>
  <td>
  <a asp-action="Edit" asp-route-id="@item.Id">Edit</a> |
  <a asp-action="Details" asp-route-id="@item.Id">Details</a> |
  <a asp-action="Delete" asp-route-id="@item.Id">Delete</a>
  </td>
  </tr>
  }
  </tbody>
  </table> *@
